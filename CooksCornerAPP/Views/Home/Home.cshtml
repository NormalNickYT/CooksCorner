@model List<CooksCornerAPP.ViewModels.AllUserRecipesViewModel>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contactpagina</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="~/css/LiveAlert.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
</head>
<body>
    <section class="hero">
        <div class="hero-text">
            <h5>The Best Place For WorldWide Recipes </h5>
            <h4> The ultimate destinations for </h4>
            <h1> <span class="hero-main__changeColor"> FOODIES  </span> AND HOME  COOKS </h1>
            <p>Are you tired of the same old recipes and looking for some fresh inspiration in the kitchen? Look no further than CooksCorner, where you can browse and share an endless variety of mouth-watering recipes from around the world.</p>
        </div>
        <div class="hero-img">
            <img src="~/images/food.png" />
        </div>
    </section>
    <div class="mainCards">
        <h1 class="main-card-header-text" tyle="font-weight: 500; font-size: 70px; "> Explore our popular meals </h1>
        <div class="container">
            @if (Model != null && Model.Count > 0) {
                @foreach (var recipe in Model)
                {
                    <a style="text-decoration: none; color: inherit;" asp-controller="Recipes" asp-action="RecipeDetails" asp-route-recipeId="@recipe.RecipeId">
                        <div class="card">
                            <div class="card-image">
                                @if (recipe.Image != null)
                                {
                                    <img src="data:image;base64,@System.Convert.ToBase64String(@recipe.Image)" alt="RecipeImage" alt="..." />
                                }
                                else
                                {
                                    <h1> No image foynd </h1>
                                }
                                <a class="favorite-link" onclick="favoriteRecipe('@recipe.RecipeId')"> <i class="bx bx-star"></i> </a>
                            </div>
                            <div class="card-content">
                                <h5 class="card-content__recipetext"> @recipe.OwnerUserName </h5>
                                <h3 class="card-content__recipetext"> @recipe.Category </h3>
                                <h3> @recipe.RecipeName </h3>
                                <p>@recipe.Description</p>
                                <div class="review-container">
                                    <div class="stars">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                }
            }
            <div class="modal fade" id="favorite-modal" tabindex="-1" role="dialog" aria-labelledby="favorite-modal-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="favorite-modal-label">Favorites</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <p id="favorite-success">Your recipe has been added to favorites.</p>
                            <p id="favorite-already" style="display:none; color: red; font-weight: 600;">This recipe is already in your favorites.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-image">
                    <img src="/images/LunchMeal.png" alt="...">
                    <i class="bx bx-star"></i>
                </div>
                <div class="card-content">
                    <h4 class="card-content__recipetext"> Egg Salad Recipes </h4>
                    <h3>Delicous Egg Salad for Sandwiches</h3>
                    <div class="review-container">
                        <div class="stars">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-image">
                    <img src="/images/LunchMeal.png" alt="...">
                    <i class="bx bx-star"></i>
                </div>
                <div class="card-content">
                    <h4 class="card-content__recipetext"> Egg Salad Recipes </h4>
                    <h3>Delicous Egg Salad for Sandwiches</h3>
                    <div class="review-container">
                        <div class="stars">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-image">
                    <img src="/images/LunchMeal.png" alt="...">
                    <i class="bx bx-star"></i>
                </div>
                <div class="card-content">
                    <h4 class="card-content__recipetext"> Egg Salad Recipes </h4>
                    <h3>Delicous Egg Salad for Sandwiches</h3>
                    <div class="review-container">
                        <div class="stars">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-image">
                    <img src="/images/LunchMeal.png" alt="...">
                    <i class="bx bx-star"></i>
                </div>
                <div class="card-content">
                    <h4 class="card-content__recipetext"> Egg Salad Recipes </h4>
                    <h3>Delicous Egg Salad for Sandwiches</h3>
                    <div class="review-container">
                        <div class="stars">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-image">
                    <img src="/images/LunchMeal.png" alt="...">
                    <i class="bx bx-star"></i>
                </div>
                <div class="card-content">
                    <h4 class="card-content__recipetext"> Egg Salad Recipes </h4>
                    <h3>Delicous Egg Salad for Sandwiches</h3>
                    <div class="review-container">
                        <div class="stars">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<script src="~/js/signalr/dist/browser/signalr.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script>
    function favoriteRecipe(recipeId) {
        var data = { recipeId: recipeId };
            $.ajax({
                type: 'POST',
                url: '/Home/FavoriteRecipe',
                data: data,
                success: function (data) {

                    if (data.alreadyFavorited) {
                        $('#favorite-success').hide();
                        $('#favorite-already').show();
                    }
                    else {
                        $('#favorite-success').show();
                        $('#favorite-already').hide();
                    }
                    $('#favorite-modal').modal('show');
                    setTimeout(function () {
                        $('#favorite-modal').modal('hide');
                    }, 5000);
                }
            });
    }
</script>